(this["webpackJsonpgnt-contable"]=this["webpackJsonpgnt-contable"]||[]).push([[13],{599:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(5),i=t(10),l=t(561),c=t(338),m=t(273),s=t(170),d=o.a.createContext(),u={lista:[],cabeceras:[{title:"ID",field:"id_anexo",width:20},{title:"Nombre",field:"nm_anexo"},{title:"Alias",field:"nm_alias"},{title:"T. documento",field:"tdocumento"},{title:"Documento",field:"ruc"},{title:"Estado",field:"nomestado"}],filterConfig:[{field:"id_anexo",label:"ID",type:s.b.NUMBER},{field:"nm_anexo",tbfield:"nm_anexo_tb",label:"Nombre de Anexo",type:s.b.STRING},{field:"nm_alias",tbfield:"nm_alias_tb",label:"Alias",type:s.b.STRING},{field:"tdocumento",tbfield:"tdocumento_tb",label:"Tipo de documento",type:s.b.STRING},{field:"ruc",tbfield:"ruc_tb",label:"Documento",type:s.b.STRING},{field:"nomestado",tbfield:"nomestado_tb",label:"Estado",type:s.b.STRING}],anexoInfo:{},reportQuery:{id_empresa:"1",id_anexo:"0",nm_anexo_tb:"1",nm_anexo:"estac",nm_alias_tb:"0",nm_alias:"",tdocumento_tb:"0",tdocumento:"",ruc_tb:"0",ruc:"",nomestado_tb:"0",nomestado:"",sortcolumn:"",sortorder:""}};function p(e,a){var t=Object(i.a)(a,2),n=t[0],o=t[1];switch(n){case"lista":return Object(r.a)({},e,{lista:o});case"anexoInfo":case"limpiar":return Object(r.a)({},e,{anexoInfo:o});default:return e}}var f=d.Provider,g=function(e){var a=o.a.useReducer(p,u),t=Object(i.a)(a,2),n=t[0],r=t[1];return o.a.createElement(f,{value:{anexo:n,dispatchAnexo:r}},e.children)},b=d,h=t(218),E=t(278),x=t(575),v=t(574),C=t(576),y=t(577),_=t(595),j=t(592),O=t(353),S=t(279),k=t.n(S),N=t(566),w=t(126),A=t(345),T=t(346),F=t(344),D=t(343),I=t(367),L=t(231),R=t(410),z=Object(c.a)((function(e){return{form:{padding:e.spacing(2)},formInput:{marginLeft:e.spacing(1)},formInputFull:{width:"100%"}}})),W=function(e){var a=z(),t=e.anchorEl,n=e.handleClose,r=e.filterConfig,i=e.refresh,l=r.filters,c=r.setFilter,m=[{id:s.c.CONTAINS,label:"Contiene"},{id:s.c.STARTS_WITH,label:"Comienza con"}],d=Object(R.a)({initialValues:Object(L.b)(l),onSubmit:function(e){c(e),n(),i()},onReset:function(e){c(e),i()}}),u=Boolean(t);return o.a.createElement("div",null,o.a.createElement(N.a,{open:u,anchorEl:t,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement("form",{noValidate:!0,autoComplete:"off",className:a.form,onSubmit:d.handleSubmit,onReset:d.handleReset},l.map((function(e,t){return o.a.createElement(w.a,{key:t,mb:4,display:"flex",alignItems:"flex-end"},o.a.createElement(A.a,{className:a.formInputFull},e.type===s.b.STRING?o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{htmlFor:"txtFilt".concat(t)},e.label),o.a.createElement(F.a,{id:"txtFilt".concat(t),name:"".concat(e.field),onChange:d.handleChange,value:d.values["".concat(e.field)],startAdornment:o.a.createElement(D.a,{select:!0,style:{width:200},name:"".concat(e.tbfield),onChange:d.handleChange,value:d.values["".concat(e.tbfield)]},m.map((function(e){return o.a.createElement(I.a,{key:e.id,value:e.id},e.label)})))})):o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{htmlFor:"txtFilt".concat(t)},e.label),o.a.createElement(F.a,{id:"txtFilt".concat(t),name:"".concat(e.field),onChange:d.handleChange,value:d.values["".concat(e.field)]}))))})),o.a.createElement(w.a,{display:"flex",justifyContent:"flex-end"},o.a.createElement(O.a,{type:"reset",color:"secondary",style:{marginRight:15}},"Limpiar filtro"),o.a.createElement(O.a,{type:"submit",color:"primary",variant:"contained"},"Filtrar")))))},M=Object(c.a)((function(e){return{back:{transform:"translateZ(0px)",position:"fixed",zIndex:100},avatar:{backgroundColor:e.palette.primary.main,width:130,height:130,margin:"auto"},texto:{textAlign:"center",marginTop:e.spacing(1)},card:{width:"95%",transition:"all .2s ease-in-out","&:hover":{transform:"scale(1.02)"}},typography:{padding:e.spacing(2)}}})),P=o.a.forwardRef((function(e,a){return o.a.createElement(E.a,Object.assign({direction:"up",ref:a},e,{timeout:500}))}));function G(e){var a=M(),t=o.a.useRef(),n=e.data,r=e.title,l=e.cabeceras,c=e.filterConfig,m=e.editar,s=e.eliminar,d=o.a.useState(!1),u=Object(i.a)(d,2),p=u[0],f=u[1],g=o.a.useState({}),b=Object(i.a)(g,2),h=b[0],E=b[1],S=o.a.useState(null),N=Object(i.a)(S,2),w=N[0],A=N[1],T=function(){t.current&&t.current.onQueryChange()};return o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,{open:p,className:a.back}),o.a.createElement(v.a,{open:p,TransitionComponent:P,keepMounted:!0,onClose:function(){return f(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(C.a,{id:"alert-dialog-slide-title"},"\xbfSeguro que deseas eliminar a ".concat(h.nombre,"?")),o.a.createElement(y.a,null,o.a.createElement(_.a,{id:"alert-dialog-slide-description"},"Una vez eliminado se perder\xe1 toda la informaci\xf3n de esta anexo.")),o.a.createElement(j.a,null,o.a.createElement(O.a,{onClick:function(){return f(!1)},color:"secondary"},"Cancelar"),o.a.createElement(O.a,{variant:"contained",onClick:function(){return h.id,f(!1),void s(h.id,T)},color:"primary"},"Confirmar"))),o.a.createElement(k.a,{title:r,columns:l,data:n,options:{draggable:!1,search:!1,pageSize:20,pageSizeOptions:[]},tableRef:t,actions:[{icon:"edit",tooltip:"Editar",onClick:function(e,a){return m(a)}},{icon:"delete",tooltip:"Eliminar",onClick:function(e,a){f(!0),E({id:a.id_anexo,nombre:a.nm_anexo})}},{icon:"refresh",tooltip:"Actualizar",isFreeAction:!0,onClick:function(){return T()}},{icon:"filter_list",tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){A(e.currentTarget)}}],localization:{header:{actions:"Acciones"},body:{emptyDataSourceMessage:"No hay nada para mostrar"}}}),o.a.createElement(W,{anchorEl:w,handleClose:function(){return A(null)},filterConfig:c,refresh:T}))}var B=t(50),H=t(51),Q=t(418),V=t(267),q=t(340),J=t(337),U=t(350),Y=t(415),Z=t(571),K=t(602),X=Object(c.a)((function(){return{snack:{opacity:"0.8",width:"90%"}}}));function $(e){return o.a.createElement(K.a,Object.assign({elevation:6,variant:"filled"},e))}function ee(e){var a=X(),t=e.openAlert,n=e.closeAlert,r=e.mensaje,i=e.severity;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:3e3,onClose:n,className:a.snack},o.a.createElement($,{onClose:n,severity:i},o.a.createElement(J.a,{variant:"button"},r))))}function ae(e){var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),o=a.getFullYear(),r=a.getHours(),i=r>=12?"pm":"am";r=(r%=12)||12;var l=a.getMinutes(),c=l<=10?"0".concat(l):l,m=a.getSeconds();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[n,t,o].join("/")+" "+[r,c,m].join(":")+i}var te=o.a.forwardRef((function(e,a){return o.a.createElement(E.a,Object.assign({direction:"up",ref:a},e,{timeout:500}))}));function ne(){var e=o.a.useContext(B.b),a=e.interactions,t=e.dispatch;return o.a.createElement(v.a,{open:a.openDialog,TransitionComponent:te,keepMounted:!0,onClose:function(){return t(["openDialog",!1])},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(y.a,null,o.a.createElement(_.a,{id:"alert-dialog-slide-description"}),o.a.createElement(m.a,{container:!0,spacing:2,style:{width:550,height:550}},o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(k.a,{title:"Historial",columns:[{title:"Fecha",field:"fecha"},{title:"Nombre",field:"nickname",width:10},{title:"Descripci\xf3n",field:"notas"}],options:{draggable:!1,search:!1,pageSize:5,paging:!1,pageSizeOptions:[]},data:a.historial.map((function(e){return{fecha:ae(e.fecha),nickname:e.nickname,notas:e.notas}})),localization:{body:{emptyDataSourceMessage:"No hay nada para mostrar"}}})))),o.a.createElement(j.a,null,o.a.createElement(O.a,{onClick:function(){return t(["openDialog",!1])},color:"secondary"},"Listo")))}var oe=t(128),re=o.a.forwardRef((function(e,a){return o.a.createElement(V.a,Object.assign({ref:a},e,{timeout:500}))}));function ie(){var e=o.a.useContext(B.b),a=e.interactions,t=e.dispatch;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none"}},open:a.openLoader,TransitionComponent:re,keepMounted:!0,onClose:function(){return t(["openLoader",!1])}},o.a.createElement(y.a,null,o.a.createElement(m.a,{container:!0,spacing:2,style:{width:550,height:550}},o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(w.a,{position:"absolute",top:"50%",left:"50%"},o.a.createElement(oe.a,{color:"primary"})))))))}var le=t(597),ce=t(612),me=t(598),se=t(546),de=t.n(se),ue=t(547),pe=t.n(ue),fe=t(548),ge=t.n(fe),be=t(549),he=t.n(be),Ee=t(551),xe=t.n(Ee),ve=t(550),Ce=t.n(ve),ye=Object(c.a)((function(e){return{speedDial:{position:"fixed",bottom:e.spacing(7),right:e.spacing(2)}}}));function _e(e){var a=e.action,t=e.guardar,n=e.guardarPdf,r=e.guardarExcel,l=o.a.useContext(B.b),c=l.interactions,m=l.dispatch,s=o.a.useState(!(window.screen.width<769)),d=Object(i.a)(s,2),u=d[0],p=d[1],f=ye();return o.a.createElement(le.a,{ariaLabel:"Speedial",className:f.speedDial,icon:o.a.createElement(ce.a,null),onClick:function(){return p(!u)},open:u},a.map((function(e,a){return"Editar"===e.nombre||"Eliminar"===e.nombre||"Buscar"===e.nombre?null:o.a.createElement(me.a,{key:a,icon:"Volver"===e.nombre?o.a.createElement(de.a,{color:"secondary"}):"Nuevo"===e.nombre?o.a.createElement(pe.a,{color:"secondary"}):"Imprimir"===e.nombre?o.a.createElement(ge.a,{color:"secondary"}):"Excel"===e.nombre?o.a.createElement(he.a,{color:"secondary"}):"Guardar"===e.nombre?o.a.createElement(Ce.a,{color:"secondary"}):"Historial"===e.nombre?o.a.createElement(xe.a,{color:"secondary"}):"",tooltipTitle:e.nombre,onClick:function(a){return function(e,a){e.preventDefault(),e.stopPropagation(),"Nuevo"===a.nombre&&m(["anexoFormNuevo","".concat(window.location.pathname,"/nuevo")]),"Volver"===a.nombre&&(m(["volver","/".concat(window.location.pathname.split("/")[1])]),c.limpiar()),"Imprimir"===a.nombre&&n(),"Excel"===a.nombre&&r(),"Historial"===a.nombre&&m(["openDialog",!0]),"Guardar"===a.nombre&&t()}(a,e)}})})))}var je=Object(c.a)((function(e){return{root:Object(H.a)({padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),layout:Object(H.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2),marginTop:e.spacing(6)},e.breakpoints.up(600+2*e.spacing(2)),{width:800,marginBottom:e.spacing(10),marginLeft:"auto",marginRight:"auto"}),card:{width:400,margin:e.spacing(5)},avatar:{backgroundColor:e.palette.secondary.main,width:70,height:70,margin:"auto"},texto:{marginTop:e.spacing(4)},info:{marginTop:e.spacing(1)},input:{display:"none"},cabecera:{position:"relative",marginTop:e.spacing(1)},title:{marginLeft:e.spacing(2),flex:1},table:{minWidth:300},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},formControl:{marginTop:e.spacing(2),width:"100%"}}})),Oe={id_anexo:"",id_empresa:"1",ap_paterno:"",ap_materno:"",nombre:"",nm_anexo:"",nm_alias:"",direccion:"",ciudad:"",id_pais:"1",region:"",departamento:"",provincia:"",distrito:"",telef_1:"",telef_2:"",telef_3:"",fax:"",id_tdocumento:"06",ruc:"",notas:"",codcli:"",nodomiciliado:!1,estado:"1",rg_identificacion:""},Se={bgcolor:"background.paper",m:1,border:1,style:{width:"100%",height:"auto"}},ke={draggable:!1,search:!1,paging:!1,pageSizeOptions:[]},Ne=o.a.forwardRef((function(e,a){return o.a.createElement(E.a,Object.assign({direction:"up",ref:a},e,{timeout:500}))}));function we(){var e=o.a.useContext(b),a=e.anexo,t=e.dispatchAnexo,n=o.a.useContext(B.b),c=n.interactions,s=n.dispatch,d=o.a.useRef(),u=o.a.useState("/smnuAnexo/form"===c.path?a.anexoInfo:Oe),p=Object(i.a)(u,2),f=p[0],g=p[1],E=o.a.useState(null),x=Object(i.a)(E,2),_=x[0],S=x[1],N=o.a.useState([]),F=Object(i.a)(N,2),L=F[0],R=F[1],z=o.a.useState([]),W=Object(i.a)(z,2),M=W[0],P=W[1],G=o.a.useState([]),Z=Object(i.a)(G,2),K=Z[0],X=Z[1],$=o.a.useState(!1),ae=Object(i.a)($,2),te=ae[0],oe=ae[1],re=o.a.useState(!1),le=Object(i.a)(re,2),ce=le[0],me=le[1],se=o.a.useState({mensaje:"j",severity:"info"}),de=Object(i.a)(se,2),ue=de[0],pe=de[1],fe=je(),ge=function(e){g(Object(r.a)({},f,Object(H.a)({},e.target.name,e.target.value)))},be=function(){d.current&&d.current.onQueryChange()};return o.a.useEffect((function(){h.a.get("/api/general/historial?codhistoriareg=D383F6CE-74F1-47C2-9CCE-A5056D5698C9").then((function(e){s(["historial",e.data])})),h.a.get("/api/tipodocumentoidentidad/listar").then((function(e){R(e.data)})),h.a.get("/api/pais/listar").then((function(e){P(e.data)})),h.a.get("/api/anexotipo/listar").then((function(e){X(e.data)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null),o.a.createElement("main",{className:fe.layout},o.a.createElement(ie,null),o.a.createElement(ne,null),o.a.createElement(_e,{action:[{nombre:"Volver"},{nombre:"Guardar"},{nombre:"Historial"}],guardar:function(){s(["openLoader",!0]),"undefined"!==typeof a.anexoInfo.id_anexo?h.a.post("/api/anexo/modificar",f).then((function(e){me(!0),pe(Object(r.a)({},ue,{mensaje:""===e.data.error?"Operaci\xf3n exitosa":e.data.error,severity:""===e.data.error?"success":"error"})),s(["openLoader",!1])})):h.a.post("/api/anexo/insertar",f).then((function(e){""===e.data.error?(h.a.get("/api/anexo/obtener?id_anexo=".concat(e.data.salida)).then((function(e){t(["anexoInfo",e.data]),g(e.data),s(["anexoForm","/smnuAnexo/form"]),s(["openLoader",!1])})),me(!0),pe(Object(r.a)({},ue,{mensaje:"Operaci\xf3n exitosa",severity:"success"}))):(s(["openLoader",!1]),me(!0),pe(Object(r.a)({},ue,{mensaje:e.data.error,severity:"error"})))}))}}),o.a.createElement(ee,{openAlert:ce,closeAlert:function(){me(!1)},mensaje:ue.mensaje,severity:ue.severity}),o.a.createElement(v.a,{open:te,TransitionComponent:Ne,keepMounted:!0,onClose:function(){return oe(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(C.a,{id:"alert-dialog-slide-title"},"Maestro asociado"),o.a.createElement(y.a,null,o.a.createElement(m.a,{container:!0,spacing:2},o.a.createElement(A.a,{className:fe.formControl},o.a.createElement(Q.a,{value:_||"",onChange:function(e){S(e.target.value)},fullWidth:!0},K.map((function(e,a){return o.a.createElement(I.a,{key:a,value:e.id_tanexo},e.nombre)})))))),o.a.createElement(j.a,null,o.a.createElement(O.a,{onClick:function(){return oe(!1)},color:"secondary"},"Cancelar"),o.a.createElement(O.a,{variant:"contained",onClick:function(){h.a.post("/api/anexomaestro/insertar",{id_anexo:f.id_anexo,id_tanexo:_}).then((function(e){be(),oe(!1),me(!0),pe(Object(r.a)({},ue,{mensaje:""===e.data.error?"Operaci\xf3n exitosa":e.data.error,severity:""===e.data.error?"success":"error"}))}))},color:"primary"},"Guardar"))),o.a.createElement(V.a,{in:!0,timeout:500},o.a.createElement(q.a,{elevation:4,className:fe.root},o.a.createElement(J.a,{variant:"h6",color:"textPrimary"},"Anexo"),o.a.createElement(m.a,{container:!0,spacing:3},o.a.createElement(m.a,{item:!0,xs:12,sm:4},o.a.createElement(D.a,{value:f.id_anexo,margin:"normal",disabled:!0,fullWidth:!0,label:"C\xf3digo"})),o.a.createElement(m.a,{item:!0,xs:12,sm:4},o.a.createElement(D.a,{value:"",margin:"normal",disabled:!0,fullWidth:!0,label:"C\xf3digo antiguo"})),o.a.createElement(m.a,{item:!0,xs:12,sm:4}),o.a.createElement(m.a,{item:!0,xs:12,sm:4},o.a.createElement(A.a,{className:fe.formControl},o.a.createElement(T.a,null,"Documento de identidad"),o.a.createElement(Q.a,{value:L.length?f.id_tdocumento:"",name:"id_tdocumento",onChange:ge,fullWidth:!0},L.map((function(e,a){return o.a.createElement(I.a,{key:a,value:e.id_tdocumento},e.alias)}))))),o.a.createElement(m.a,{item:!0,xs:12,sm:4},o.a.createElement(D.a,{name:"ruc",required:!0,value:f.ruc||"",margin:"normal",fullWidth:!0,onChange:ge,label:"N\xfamero de identificaci\xf3n"})),o.a.createElement(m.a,{item:!0,xs:12,sm:4}),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{name:"nm_anexo",value:f.nm_anexo||"",margin:"normal",required:!0,fullWidth:!0,onChange:ge,placeholder:"Nombre o raz\xf3n comercial",label:"Nombre o raz\xf3n comercial"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{name:"nm_alias",value:f.nm_alias,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Nombre comercial o alias",label:"Nombre comercial o alias"})),o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(D.a,{name:"direccion",value:f.direccion,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Direcci\xf3n",label:"Direcci\xf3n"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{name:"ciudad",value:f.ciudad,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Ciudad",label:"Ciudad"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(A.a,{className:fe.formControl},o.a.createElement(T.a,null,"Pa\xeds"),o.a.createElement(Q.a,{value:M.length?f.id_pais:"",name:"id_pais",onChange:ge,fullWidth:!0},M.map((function(e,a){return o.a.createElement(I.a,{key:a,value:e.id_pais},e.nm_pais)}))))),o.a.createElement(m.a,{item:!0,xs:12,sm:4},o.a.createElement(D.a,{name:"departamento",value:f.departamento,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Departamento",label:"Departamento"})),o.a.createElement(m.a,{item:!0,xs:12,sm:4},o.a.createElement(D.a,{name:"provincia",value:f.provincia,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Provincia",label:"Provincia"})),o.a.createElement(m.a,{item:!0,xs:12,sm:4},o.a.createElement(D.a,{name:"distrito",value:f.distrito,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Distrito",label:"Distrito"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{name:"telef_1",value:f.telef_1,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Tel\xe9fono 1",label:"Tel\xe9fono 1"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{name:"telef_2",value:f.telef_2,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Tel\xe9fono 2",label:"Tel\xe9fono 2"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{name:"telef_3",value:f.telef_3,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Movil",label:"Movil"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{name:"fax",value:f.fax,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Fax",label:"Fax"})),o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(D.a,{name:"notas",multiline:!0,rows:5,value:f.notas,margin:"normal",fullWidth:!0,onChange:ge,placeholder:"Notas",label:"Notas"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(U.a,{control:o.a.createElement(Y.a,{checked:f.nodomiciliado,onChange:ge,name:"nodomiciliado"}),label:"No domiciliado"})),o.a.createElement(m.a,{item:!0,xs:12,sm:6},o.a.createElement(A.a,{className:fe.formControl},o.a.createElement(T.a,null,"Estado"),o.a.createElement(Q.a,{value:f.estado,name:"estado",onChange:ge,fullWidth:!0},o.a.createElement(I.a,{key:"1",value:"1"},"Activo"),o.a.createElement(I.a,{key:"2",value:"0"},"Inactivo")))),"/smnuAnexo/form"===c.path?o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,Object.assign({borderColor:"primary.main",borderRadius:5},Se),o.a.createElement(m.a,{container:!0,spacing:2,style:{padding:"5px"}},o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(k.a,{title:"Categor\xeda anexo",columns:[{title:"C\xf3digo",field:"id_tanexo"},{title:"Nombre",field:"nombre"}],data:function(e){return new Promise((function(t,n){h.a.get("/api/anexomaestro/examinar?id_anexo=".concat(a.anexoInfo.id_anexo)).then((function(a){t({data:a.data,page:e.page,pageSize:a.data.length,totalCount:a.data.length})}))}))},options:ke,tableRef:d,actions:[{icon:"delete",tooltip:"Eliminar",onClick:function(e,t){return n=t.id_tanexo,void h.a.post("/api/anexomaestro/eliminar?id_anexo=".concat(a.anexoInfo.id_anexo,"&id_tanexo=").concat(n)).then((function(e){be(),me(!0),pe(Object(r.a)({},ue,{mensaje:""===e.data.error?"Operaci\xf3n exitosa":e.data.error,severity:""===e.data.error?"success":"error"}))}));var n}},{icon:"add",tooltip:"Nuevo",isFreeAction:!0,onClick:function(e){return oe(!0)}}],localization:{header:{actions:"Acciones"},body:{emptyDataSourceMessage:"No hay nada para mostrar"}}}))))):null)))))}var Ae=Object(c.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(8),paddingLeft:e.spacing(4)},usuarios:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function Te(){var e=o.a.useContext(B.b),a=e.interactions,n=e.dispatch,c=o.a.useContext(b),s=c.anexo,d=c.dispatchAnexo,u=o.a.useState({page:1,rows:"20",id_empresa:"1",id_anexo:"0",nm_anexo_tb:"0",nm_anexo:"",nm_alias_tb:"0",nm_alias:"",tdocumento_tb:"0",tdocumento:"",ruc_tb:"0",ruc:"",nomestado_tb:"0",nomestado:"",sortcolumn:"",sortorder:""}),p=Object(i.a)(u,2),f=p[0],g=p[1],E=o.a.useState(Object(L.b)(s.filterConfig)),x=Object(i.a)(E,2),v=x[0],C=x[1],y=o.a.useState(!1),_=Object(i.a)(y,2),j=_[0],O=_[1],S=o.a.useState({mensaje:"j",severity:"info"}),k=Object(i.a)(S,2),N=k[0],w=k[1],A=o.a.useState([]),T=Object(i.a)(A,2),F=T[0],D=T[1],I=Ae(),R=function(){d(["limpiar",{}])};return o.a.useEffect((function(){n(["limpiar",R]),h.a.get("/api/general/accesolistar?codigoformulario=mant_anexo_lista").then((function(e){D(e.data)}))}),[a.path]),o.a.useEffect((function(){h.a.get("/api/general/accesolistar?codigoformulario=mant_anexo_lista").then((function(e){n(["acciones",e.data])})),g(Object(r.a)({},f,{},v))}),[v]),o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null),o.a.createElement(ie,null),o.a.createElement(ee,{openAlert:j,closeAlert:function(){O(!1)},mensaje:N.mensaje,severity:N.severity}),o.a.createElement(m.a,{container:!0,spacing:1,className:I.root},"/smnuAnexo/form"===a.path||"/smnuAnexo/nuevo"===a.path?o.a.createElement(we,null):o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(_e,{action:F,guardarPdf:function(){var e=t(409);n(["openLoader",!0]),h.a.post("/api/anexo/pdf",s.reportQuery,{responseType:"blob"}).then((function(a){n(["openLoader",!1]),e.saveAs(a.data,"Lista de Anexos.pdf")}))},guardarExcel:function(){var e=t(409);n(["openLoader",!0]),h.a.post("/api/anexo/excel",s.reportQuery,{responseType:"blob"}).then((function(a){n(["openLoader",!1]),e.saveAs(a.data,"Lista de Anexos.xlsx")}))}}),o.a.createElement(G,{data:function(e){return new Promise((function(a,t){g(Object(r.a)({},f,{page:e.page+1,rows:e.pageSize,sortcolumn:e.orderBy&&e.orderBy.field,sortorder:e.orderDirection})),h.a.post("/api/anexo/examinar",f).then((function(t){a({data:t.data.items,page:e.page,pageSize:e.pageSize,totalCount:t.data.registros})}))}))},title:"Lista de Anexos",cabeceras:s.cabeceras,filterConfig:{filters:s.filterConfig,setFilter:C},editar:function(e){h.a.get("/api/anexo/obtener?id_anexo=".concat(e.id_anexo)).then((function(e){d(["anexoInfo",e.data]),n(["anexoForm","".concat(window.location.pathname,"/form")])}))},eliminar:function(e,a){n(["openLoader",!0]),h.a.post("/api/anexo/eliminar?id_anexo=".concat(e)).then((function(e){a(),n(["openLoader",!1]),O(!0),w(Object(r.a)({},N,{mensaje:""===e.data.error?"Operaci\xf3n exitosa":e.data.error,severity:""===e.data.error?"success":"error"}))})).catch((function(e){console.log(e),n(["openLoader",!1])}))}}))))}a.default=function(){return o.a.createElement(g,null,o.a.createElement(Te,null))}}}]);
//# sourceMappingURL=13.6cad2490.chunk.js.map